#include <IRremote.h>
#define DELAY_AFTER_SEND 200

const int IRBlaster = 3;
const int ONButton = 5;
void setup() {
  Serial.begin(9600);
  pinMode(5, INPUT); 
  pinMode(3, OUTPUT);
  
  IrSender.begin(IRBlaster, true, 0);
}
int on = 0;
const uint16_t OnSignal[]  = {
	3456, 1728, 416, 1296, 416, 1296, 416, 464, 420, 464, 416, 464, 420, 1292, 420, 460, 420, 464, 416, 1292, 
	420, 1292, 420, 464, 416, 1292, 420, 464, 420, 464, 416, 1292, 420, 1292, 420, 460, 420, 1292, 420, 1292, 
	420, 464, 416, 464, 420, 1292, 420, 460, 420, 464, 416, 1296, 416, 464, 420, 464, 416, 464, 416, 464, 
	420, 464, 416, 464, 420, 460, 420, 464, 416, 468, 416, 460, 420, 464, 416, 464, 420, 464, 416, 464, 
	420, 464, 416, 464, 420, 460, 420, 460, 420, 464, 420, 460, 424, 1288, 424, 460, 420, 460, 424, 460, 
	424, 456, 428, 452, 428, 1284, 416, 1296, 384, 496, 404, 480, 404, 476, 432, 448, 408, 476, 408, 472, 
	408, 476, 408, 472, 408, 472, 408, 476, 408, 472, 408, 472, 432, 1256, 436, 1272, 436, 476, 408, 472, 
	408, 472, 408, 1276, 460, 1252, 460, 448, 408, 476, 408, 1276, 436, 1280, 428, 1276, 436, 1276, 460, 1252, 
	460, 448, 408, 476, 428, 452, 432, 448, 408, 476, 432, 448, 432, 452, 404, 476, 408, 472, 408, 476, 
	428, 452, 408, 472, 412, 472, 408, 472, 408, 476, 428, 452, 408, 476, 404, 476, 408, 472, 408, 476, 
	404, 476, 408, 472, 408, 476, 408, 472, 408, 472, 408, 476, 404, 476, 424, 460, 404, 476, 408, 472, 
	408, 476, 404, 476, 408, 472, 408, 476, 408, 472, 412, 472, 408, 472, 408, 472, 432, 452, 408, 472, 
	408, 472, 408, 476, 408, 472, 408, 476, 408, 472, 408, 472, 436, 448, 408, 472, 416, 468, 408, 472, 
	432, 452, 432, 448, 408, 472, 408, 476, 408, 472, 432, 452, 432, 448, 408, 1276, 436, 1276, 436, 1276, 
	444, 1264, 436, 476, 404, 476, 408, 472, 408, 1280, 456, 15520, 3488, 1692, 448, 1292, 420, 1292, 420, 460, 
	420, 464, 416, 464, 420, 1292, 420, 460, 420, 464, 416, 1292, 420, 1292, 420, 464, 420, 1292, 416, 464, 
	420, 464, 416, 1292, 420, 1292, 420, 464, 416, 1296, 416, 1292, 420, 464, 420, 460, 420, 1292, 420, 460, 
	424, 460, 420, 1288, 424, 460, 424, 460, 424, 456, 416, 464, 384, 496, 384, 500, 404, 476, 408, 476, 
	408, 472, 408, 476, 416, 464, 408, 472, 408, 476, 408, 472, 432, 452, 432, 448, 408, 476, 404, 476, 
	412, 468, 408, 476, 432, 1248, 436, 476, 408, 472, 408, 476, 404, 476, 408, 476, 404, 1276, 460, 1252, 
	436, 476, 428, 452, 408, 476, 404, 476, 408, 472, 408, 472, 432, 452, 408, 472, 408, 476, 404, 476, 
	408, 476, 404, 476, 408, 1276, 436, 1272, 440, 472, 408, 472, 408, 476, 408, 1276, 432, 1276, 436, 476, 
	408, 472, 432, 1252, 436, 1276, 436, 1276, 436, 1272, 436, 1276, 436, 476, 428, 452, 408, 476, 404, 476, 
	408, 476, 404, 476, 408, 476, 404, 476, 404, 476, 408, 476, 428, 452, 432, 452, 404, 476, 404, 476, 
	432, 452, 404, 476, 408, 476, 404, 476, 404, 480, 404, 476, 404, 476, 408, 476, 404, 476, 408, 472, 
	408, 476, 404, 476, 408, 472, 408, 476, 408, 472, 408, 476, 404, 476, 432, 452, 428, 452, 408, 472, 
	408, 476, 404, 476, 408, 476, 404, 476, 408, 476, 404, 476, 404, 476, 408, 472, 408, 476, 408, 472, 
	408, 476, 408, 472, 408, 472, 408, 476, 432, 452, 404, 476, 404, 476, 408, 476, 404, 476, 408, 472, 
	408, 476, 404, 476, 408, 476, 404, 1276, 436, 1276, 436, 1276, 436, 1276, 436, 472, 408, 476, 408, 472, 
	408, 1276, 436};
// const uint16_t OnSignal[] = {3472,1691,441,1285,464,1265,443,451,408,
//                              459,410,456,434,1266,462,404,434,431,459,
//                              1271,437,1317,432,410,459,1293,435,407,431,
//                              436,433,1321,428,1273,435,432,458,1270,438,
//                              1314,414,426,433,432,458,1296,412,427,463,408,
//                              441,1312,406,432,437,432,437,456,434,411,438,
//                              425,465,404,434,433,457,414,455,414,455,414,434,
//                              430,460,410,439,423,436,432,458,411,438,425,434,
//                              459,410,430,439,428,462,405,433,1317,411,427,463,
//                              430,408,432,468,439,441,406,432,1318,431,1268,440,
//                              425,454,416,463,404,434,1291,437,1284,455,443,437,
//                              1265,432,434,456,413,435,436,433,432,437,456,434,
//                              1296,432,1266,462,409,460,1265,463,1309,409,429,461,
//                              410,439,1287,441,1284,434,433,436,429,440,424,435,
//                              1317,411,1312,406,459,431,414,435,1286,463,1265,463,
//                              408,441,1280,459,1269,439,1311,407,434,435,460,430,
//                              413,435,434,435,427,463,411,438,427,442,423,436,431,
//                              438,428,441,450,409,434,435,456,434,413,456,411,437,
//                              428,431,460,409,433,436,431,438,429,440,427,442,422,
//                              437,426,433,445,435,457,412,432,437,428,441,452,407,
//                              436,464,403,456,413,466,407,441,428,441,428,462,411,
//                              437,426,464,405,433,434,435,429,440,427,442,425,434,
//                              429,440,426,433,434,435,432,437,434,456,416,432,432,
//                              458,409,440,1288,440,1283,435,1288,441,429,440,453,
//                              406,1295,433,1290,439,426,443,17056,3607,1696,457,
//                              1271,437,1291,438,429,461,411,469,407,462,1292,405,
//                              461,408,433,436,1287,462,1265,432,435,434,1289,460,
//                              411,458,409,439,1286,463,1267,441,426,433,1319,409,
//                              1314,414,455,414,453,406,1295,433,431,459,435,434,
//                              1269,460,410,459,410,439,452,438,405,433,430,439,
//                              427,463,407,441,421,438,429,440,426,433,435,455,
//                              412,436,428,462,409,460,409,440,425,434,460,409,
//                              457,412,431,438,427,432,1293,435,429,440,425,434,
//                              429,440,426,433,430,439,1284,434,1315,413,425,465,
//                              405,433,434,435,1286,463,1264,464,407,462,1266,442,
//                              425,465,405,464,409,440,425,434,458,432,1271,457,
//                              1270,438,429,461,1298,410,1318,410,454,436,410,438,
//                              1282,457,1271,437,430,439,430,439,430,460,1270,438,
//                              1288,440,426,433,463,437,1266,442,1282,457,415,433,
//                              1290,439,1282,436,1290,438,452,407,430,439,428,441,
//                              421,438,429,440,427,463,406,442,421,459,410,459,408,461,408,440,426,433,456,413,430,470,408,440,450,430,422,457,414,434,431,438,428,441,424,455,413,435,432,437,430,439,425,465,407,441,449,410,431,459,408,461,417,463,409,439,425,434,433,436,431,438,427,463,406,463,410,439,431,438,424,435,432,437,452,438,405,433,460,409,454,436,409,439,427,442,449,431,417,442,429,440,1281,437,1286,432,1291,458,413,435,432,468,1277,431,1295,464,402,457};

void loop() {

  if(digitalRead(ONButton) == HIGH){
   on = 1;}
  
  while(on == 1){
    IrSender.sendRaw(OnSignal, sizeof(OnSignal) / sizeof(OnSignal[0]), 38);  
    delay(DELAY_AFTER_SEND);
  }
  
  
}